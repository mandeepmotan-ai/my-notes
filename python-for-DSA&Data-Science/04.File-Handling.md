# File Handling

- **file handling** → *reading from and writing to files* using python
- python provides basic functionality `open()` to interact with files in python

### Basic Syntax:

```python
f = open("filename.txt", "mode")
```

- **mode :**
    - `"r"` → Read (default, file must exist)
    - `"w"` → Write (creates file, overwrites if exists ❌)
    - `"a"` → Append (adds to end of file, doesn’t overwrite)
    - `"x"` → Create (error if file exists)
    - `"b"` → Binary mode (images, videos, etc.)
    - `"t"` → Text mode (default)
- we can combine `“rb”` = read binary, `“wt”` = write text

## File Operations

1. first of all, *every time we want to perform any action with file,* we need to open it:
    
    **open a file**
    
    ```python
    f = open("data.txt", "r")
    ```
    
2. read a file
    
    ```python
    print(f.read())       # read entire file
    print(f.readline())   # read one line
    print(f.readlines())  # read all lines as list
    ```
    
3. write to a file
    
    ```python
    f = open("data.txt", "w")
    f.write("Hello, Python!\n")
    f.close()
    ```
    
4. append to a file
    
    ```python
    f = open("data.txt", "a")
    f.write("New line added!\n")
    f.close()
    ```
    
5. in end, when all operations with file are done, don’t forget to close it.
    
    close file
    
    ```python
    f.close()
    ```
    
6. a best practice is to use `with` context manager as it automatically closes file, once operations are done
    
    ```python
    with open("data.txt", "r") as f:
        content = f.read()
        print(content)
    # file automatically closed ✅
    ```
    

## Working with File Paths

### Absolute vs Relative Paths

- **Relative Path** → relative to our python script
    
    ```python
    f = open("data.txt")   # looks in current working directory
    ```
    
- **absolute path** → full path system check
    
    ```python
    f = open("C:/Users/Mandeep/Documents/data.txt")
    ```
    

### Useful `os` and `pathlib` modules

1. using `os`
    
    ```python
    import os
    print(os.getcwd())                 # current working dir
    print(os.listdir("."))              # list files in current dir
    print(os.path.exists("data.txt"))   # check if file exists
    ```
    
2. using `pathlib` (modern, preferred)
    
    ```python
    from pathlib import Path
    
    file_path = Path("data.txt")
    if file_path.exists():
        print(file_path.read_text())    # read entire text file
    ```
    

**Pathlib** is more powerful + cleaner than `os`

## Examples

1. **writing and reading text file**
    
    ```python
    with open("notes.txt", "w") as f:
        f.write("Python is great for Data Science!\n")
    
    with open("notes.txt", "r") as f:
        print(f.read())
    ```
    
2. **checking file path with `pathlib`**
    
    ```python
    from pathlib import Path
    
    file = Path("notes.txt")
    if file.exists():
        print("File exists ✅")
        print(file.read_text())
    ```
    
3. **appending logs (ML experiment style)**
    
    ```python
    with open("log.txt", "a") as log:
        log.write("Experiment 1: Accuracy = 92%\n")
    ```