# Exception Handling

- **Exception** →  *an error which occurs during program execution*
- if not handled → stops program abruptly
- eg, dividing by zero, try to read file which doesn’t exists, wrong type operations, etc

## `try except` block

- **basic syntax:**
    
    ```python
    try:
        # risky code
    except SomeError:
        # handle error
    ```
    
- **Example try except**
    
    ```python
    try:
        x = 10 / 0
    except ZeroDivisionError:
        print("Cannot divide by zero!")
    ```
    
- without exception handling → program crashes. With handling → program continues

## Catching Multiple Exceptions

```python
try:
    num = int("abc")
except ValueError:
    print("Conversion error!")
except ZeroDivisionError:
    print("Division by zero!")
```

## Generic expression (not recommended unless logging)

```python
try:
    f = open("missing.txt")
except Exception as e:
    print("Error:", e)
```

- we should use it carefully not just catching every error, unless logging/debugging

## `finally` block

- code inside finally block always executes, whether there’s an exception or not
- used for cleanup (closing files, releasing resources)
    
    ```python
    try:
        f = open("data.txt", "r")
        print(f.read())
    except FileNotFoundError:
        print("File not found!")
    finally:
        print("Closing program...")  # always runs
    ```
    

## `else` block (less known)

- runs only if no exception occurs
    
    ```python
    try:
        num = int("42")
    except ValueError:
        print("Error converting!")
    else:
        print("Conversion successful:", num)
    ```
    

## Nested try-except  (kinda try-catch inside try-catch)

- python allows nested exception handling kinda nested loops or conditions
    
    ```python
    try:
        f = open("data.txt", "r")
        try:
            print(f.read())
        except UnicodeDecodeError:
            print("File encoding issue!")
        finally:
            f.close()
    except FileNotFoundError:
        print("File not found!")
    ```
    

## Examples

1. **Division handling**
    
    ```python
    try:
        a, b = 10, 0
        result = a / b
    except ZeroDivisionError:
        print("Cannot divide by zero!")
    ```
    
2. **file handling with finally**
    
    ```python
    try:
        f = open("data.txt")
        print(f.read())
    except FileNotFoundError:
        print("File not found!")
    finally:
        print("Done reading file.")
    ```
    
3. **nested `try-except`**
    
    ```python
    **try:
        f = open("data.txt")
        try:
            print(int(f.readline()))
        except ValueError:
            print("Data inside file is not a number!")
        finally:
            f.close()
    except FileNotFoundError:
        print("File missing!")**
    ```