# JS DOM Manipulation

# DOM

- DOM → Document Object Model
- when a browser loads a html page, it creates a tree like structure of objects in memory
- every elements, attributes, and text in the HTML becomes a node in this tree
- example HTML code:
    
    ```html
    <html>
      <body>
        <h1 id="title">Hello</h1>
        <p class="info">Welcome!</p>
      </body>
    </html>
    ```
    
- DOM tree representation:
    
    ```html
    Document
     └── html
         └── body
             ├── h1 (id="title")
             └── p (class="info")
    ```
    

## DOM Manipulation

- DOM Manipulation → using JavaScript to read, modify, add, or remove elements in the DOM
- it allows us to *make dynamic webpages* instead of static ones
- **Without DOM** Manipulation, a page looks the same every time
- **With DOM** Manipulation, we can change text, add new elements, hide/show content or respond to user actions

### Need of DOM Manipulation

- to update content dynamically in website (eg , live score, comments, etc)
- to respond to user input (eg, button pressing, forms, etc)
- to create interactive UI’s (dropdowns, to-do list, etc)
- to fetch and display data from API’s (like showing live weather update)

# CRUD Operations

### 1. Read (access elements)

We *first need to select elements* before we can do anything 

**Methods:**

- `getElementById("id")` → single element by ID.
- `getElementsByClassName("class")` → HTMLCollection (like array)
- `getElementsByTagName("tag")` → HTMLCollection
- `querySelector("selector")` → first matching element
- `querySelectorAll("selector")` → all matches (NodeList)

```html
<h1 id="title">Hello</h1>
<p class="info">Welcome!</p>
<p class="info">Enjoy your stay</p>

<script>
  let heading = document.getElementById("title");   // by ID
  let paras = document.getElementsByClassName("info"); // by class
  let firstPara = document.querySelector(".info"); // first match
  let allParas = document.querySelectorAll(".info"); // all matches
</script>
```

### 2. Create (insert elements)

We can add new elements dynamically

**Steps:**

1. Create element → `document.createElement("tag")`
2. Add content → `.textContent = "..."`
3. Insert → `.appendChild()`, `.prepend()`, `.before()`, `.after()`

```html
<ul id="list">
  <li>Item 1</li>
</ul>

<script>
  let newItem = document.createElement("li"); // create element
  newItem.textContent = "Item 2";            // add content
  document.getElementById("list").appendChild(newItem); // insert
</script>
```

### 3. Update (modify elements)

We can change text, attributes or CSS styles

**Steps:**

- `element.textContent = "..."` → changes text.
- `element.innerHTML = "<b>Hi</b>"` → changes HTML.
- `element.setAttribute("attr", "value")` → change attribute.
- `element.style.property = "value"` → inline style.
- `classList.add/remove/toggle()` → manage CSS classes.

```html
<h1 id="title">Old Heading</h1>

<script>
  let heading = document.getElementById("title");
  heading.textContent = "New Heading";   // text update
  heading.style.color = "red";           // style update
  heading.setAttribute("title", "tooltip text"); // add attribute
  heading.classList.add("highlight");    // add CSS class
</script>
```

### 4. Delete (remove elements)

we can remove elements from DOM

Method:

- `element.remove()`  → remove directly
- `parent.removeChil(child)`  → remove via parent

```html
<ul id="list">
  <li id="item1">Item 1</li>
  <li id="item2">Item 2</li>
</ul>

<script>
  let item = document.getElementById("item1");
  item.remove(); // deletes Item 1
</script>
```

# JavaScript DOM Styling

With this we can directly change the CSS styles of elements using JS 

There are 3 main approaches:

### 1. Using `.style` Property (Inline CSS)

- every element has `.style` property
- we can assign CSS with camel case (not with dashes `-` )
    
    ```jsx
    <h1 id="title">Hello World</h1>
    
    <script>
      let el = document.getElementById("title");
      el.style.color = "red";          // text color
      el.style.backgroundColor = "yellow"; // background
      el.style.fontSize = "30px";      // font size
    </script>
    ```
    
- this adds inline styles, overriding CSS from stylesheets

### 2. Using `.className` or `.classList`

- better than inline styles → keep styling in CSS and toggle classes with JS
- `.className`
    - Replaces the entire class string
        
        ```jsx
        <h1 id="title" class="normal">Hello</h1>
        
        <style>
          .normal { color: black; }
          .highlight { color: red; font-size: 30px; }
        </style>
        
        <script>
          let el = document.getElementById("title");
          el.className = "highlight"; // replaces "normal"
        </script>
        ```
        
- `.classList`
    - Flexible: add, remove, toggle, check classes
        
        ```jsx
        <h1 id="title">Hello</h1>
        
        <style>
          .highlight { color: red; font-size: 30px; }
        </style>
        
        <script>
          let el = document.getElementById("title");
          el.classList.add("highlight");     // add class
          el.classList.remove("highlight");  // remove class
          el.classList.toggle("highlight");  // add/remove based on state
          console.log(el.classList.contains("highlight")); // true/false
        </script>
        ```
        

### 3. Using `.setAttribute(”style”, “…”)`

- sets multiple inline CSS at once
    
    ```jsx
    <h1 id="title">Hello</h1>
    
    <script>
      let el = document.getElementById("title");
      el.setAttribute("style", "color: blue; background: yellow; font-size: 25px;");
    </script>
    ```
    

## Reading Computed Styles

- sometimes we want to know the actual style applied (from CSS, inline, external, or browser defaults)
- we use `window.getComputedStyle(element)`
    
    ```jsx
    <h1 id="title" style="color: red;">Hello</h1>
    
    <script>
      let el = document.getElementById("title");
      let styles = window.getComputedStyle(el);
      console.log(styles.color); // rgb(255, 0, 0)
    </script>
    ```
    

## Best Practice

- For **dynamic changes** (like hover, click), use **`.classList`** and keep your CSS rules in external stylesheets.
- Use `.style` only for **quick one-time modifications**