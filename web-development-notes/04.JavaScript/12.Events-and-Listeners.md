# Events and Listeners

## Browser Events

- Events are action/occurrences that happen in browser, triggered by user interactions, browser actions, or script-generated actions
- these events acts as signals to which our JS code listens and acts/executes specific functions

## Event Listener

- this is a function that listens for specific events on element and when the event is detected, it triggers its associated handler
- Ways to attach event handler:
    - **inline (old, not recommended)**
        
        ```jsx
        <button onclick="alert('Hello!')">Click Me</button>
        ```
        
    - through **JavaScript property**
        
        ```jsx
        element.onclick = () => console.log("Clicked!");
        ```
        
        Only one function can be attached (overwrites previous)
        
    - **best `addEventListener()`  (best practice, recommended)**
        
        ```jsx
        //using pre defined function (known as event handler)
        element.addEventListener("click", functionName);
        
        element.addEventListener("click", () => console.log("Clicked!"));
        ```
        

## Event Handler (or Callback action)

- this JS function gets executed when the event listener detects specific event on the element
    
    ```jsx
    //this pre defined function is known as event handler
    element.addEventListener("click", functionName);
    ```
    

***Think of it like this: a security guard (event listener) is posted at a door (an HTML element). The guard is specifically looking for a certain action (an event, like someone knocking). When that action happens, the guard alerts someone inside (the event handler) to open the door or take appropriate action.***

## Key concepts and how they work together

### 1. The Event Object

- when an event occurs, the browser creates an event object (**`e`**)
- this created object is automatically passed as an argument to our event handler function
    - **`target`**: The DOM element that originally triggered the event.
    - **`type`**: The name of the event (e.g., `"click"`, `"keydown"`).
    - **`clientX`, `clientY`**: The mouse pointer's coordinates relative to the viewport.
    - **`key`**: For keyboard events, the key that was pressed.
    - **`preventDefault()`**: A method to stop the browser's default behavior for that event (e.g., preventing a link from navigating).
    - **`stopPropagation()`**: A method to stop the event from "bubbling up" to parent elements.

### 2. Event Flow: Bubbling and Capturing

- every event passes through three phases:
    - **Capturing Phase** : starts from top → target, from the window and travels down the DOM tree to the target element
    - **Target Phase** : event fires on target element
    - **Bubbling Phase** : now from target → top, from the target element and travels back up top the DOM tree to windows

```jsx
element.addEventListener("click", handler, true); // capture phase
element.addEventListener("click", handler, false); // bubbling (default)
```

### **Event Delegation**

- this is a powerful technique that leverages event bubbling
- instead of attaching an event listener to every single element in a list, we attach a single event listener to a parent element
- when an event occurs on a child element, it bubbles up to the parent and our single listener can determine which child triggered the event using `event.target`
    
    ```jsx
    document.querySelector("#list").addEventListener("click", (e) => {
      if (e.target.tagName === "LI") {
        console.log("Clicked:", e.target.innerText);
      }
    });
    ```
    

## Preventing Default Actions (`removeEventListener()`)

- just as we can add listeners, we can also remove the event listener to clean up resources or stop certain behaviors
- it’s crucial we pass the same function to `removeEventListener()` is the exact same function reference that was passed to `addEventListener()`
    
    ```jsx
    form.addEventListener("submit", (e) => {
      e.preventDefault(); // stops page reload
      console.log("Form submission stopped!");
    });
    ```
    

## Common Browser Events and Real-Life Usage Examples

### 🖱️ Mouse Events:

- `click`, `dblclick`, `contextmenu`
- `mousedown`, `mouseup`
- `mouseover`, `mouseout`, `mousemove`

### ⌨️ Keyboard Events:

- `keydown` (key pressed down)
- `keyup` (key released)
- `keypress` (deprecated, avoid)

### 📝 Form Events:

- `submit`
- `input`, `change`
- `focus`, `blur`

### 🌍 Window Events:

- `load`, `DOMContentLoaded`
- `resize`
- `scroll`
- `beforeunload`

### 🎥 Media Events:

- `play`, `pause`, `ended`
- `volumechange`, `timeupdate`